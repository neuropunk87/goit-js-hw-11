{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '45141549-5d04e9bb650dc04154699f876';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function getImagesByQuery(query) {\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n  return axios.get(BASE_URL, { params }).then(response => response.data);\n}\n","import 'simplelightbox/dist/simple-lightbox.min.css';\nimport SimpleLightbox from 'simplelightbox';\n\nlet lightbox = null;\n\nconst loader = document.querySelector('.loader');\nconst galleryContainer = document.querySelector('.gallery');\n\nexport function createGallery(images) {\n  const markup = images\n    .map(\n      img => `\n    <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${img.largeImageURL}\">\n        <img class=\"gallery-image\" src=\"${img.webformatURL}\" alt=\"${img.tags}\" loading=\"lazy\" />\n      </a>\n      <div class=\"info\">\n        <div>\n          <p class=\"info-title\">Likes</p>\n          <span class=\"info-stats\">${img.likes}</span>\n        </div>\n        <div>\n          <p class=\"info-title\">Views</p>\n          <span class=\"info-stats\">${img.views}</span>\n        </div>\n        <div>\n          <p class=\"info-title\">Comments</p>\n          <span class=\"info-stats\">${img.comments}</span>\n        </div>\n        <div>\n          <p class=\"info-title\">Downloads</p>\n          <span class=\"info-stats\">${img.downloads}</span>\n        </div>\n      </div>\n    </li>\n  `\n    )\n    .join('');\n\n  galleryContainer.insertAdjacentHTML('beforeend', markup);\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  } else {\n    lightbox.refresh();\n  }\n}\n\nexport function clearGallery() {\n  galleryContainer.innerHTML = '';\n}\n\nexport function showLoader() {\n  loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  loader.classList.add('hidden');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getImagesByQuery } from './js/pixabay-api';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\n\nconst main = document.querySelector('main');\nlet loader = document.querySelector('.loader');\n\nif (!loader) {\n  loader = document.createElement('span');\n  loader.className = 'loader hidden';\n  main.insertBefore(loader, main.querySelector('.gallery'));\n}\n\nconst form = document.querySelector('.form');\nconst input = form.querySelector('input[name=\"search-text\"]');\n\nhideLoader();\n\nform.addEventListener('submit', function (event) {\n  event.preventDefault();\n\n  const query = input.value.trim();\n  if (!query) {\n    iziToast.warning({\n      message: 'Please enter a search query!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  getImagesByQuery(query)\n    .then(function (data) {\n      if (!data.hits.length) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return;\n      }\n      createGallery(data.hits);\n    })\n    .catch(function () {\n      iziToast.error({\n        message: 'Something went wrong. Please try again later.',\n        position: 'topRight',\n      });\n    })\n    .finally(function () {\n      hideLoader();\n      form.reset();\n    });\n});\n"],"names":["API_KEY","BASE_URL","getImagesByQuery","query","params","axios","response","lightbox","loader","galleryContainer","createGallery","images","markup","img","SimpleLightbox","clearGallery","showLoader","hideLoader","main","form","input","event","iziToast","data"],"mappings":"+vBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAiBC,EAAO,CACtC,MAAMC,EAAS,CACb,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EACE,OAAOE,EAAM,IAAIJ,EAAU,CAAE,OAAAG,CAAM,CAAE,EAAE,KAAKE,GAAYA,EAAS,IAAI,CACvE,CCXA,IAAIC,EAAW,KAEf,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAmB,SAAS,cAAc,UAAU,EAEnD,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACCE,GAAO;AAAA;AAAA,sCAEyBA,EAAI,aAAa;AAAA,0CACbA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,qCAKvCA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,qCAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,qCAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,qCAIZA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA,GAK7C,EACA,KAAK,EAAE,EAEVJ,EAAiB,mBAAmB,YAAaG,CAAM,EAElDL,EAMHA,EAAS,QAAO,EALhBA,EAAW,IAAIO,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACpB,CAAK,CAIL,CAEO,SAASC,GAAe,CAC7BN,EAAiB,UAAY,EAC/B,CAEO,SAASO,GAAa,CAC3BR,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEO,SAASS,GAAa,CAC3BT,EAAO,UAAU,IAAI,QAAQ,CAC/B,CCnDA,MAAMU,EAAO,SAAS,cAAc,MAAM,EAC1C,IAAIV,EAAS,SAAS,cAAc,SAAS,EAExCA,IACHA,EAAS,SAAS,cAAc,MAAM,EACtCA,EAAO,UAAY,gBACnBU,EAAK,aAAaV,EAAQU,EAAK,cAAc,UAAU,CAAC,GAG1D,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQD,EAAK,cAAc,2BAA2B,EAE5DF,IAEAE,EAAK,iBAAiB,SAAU,SAAUE,EAAO,CAC/CA,EAAM,eAAc,EAEpB,MAAMlB,EAAQiB,EAAM,MAAM,KAAI,EAC9B,GAAI,CAACjB,EAAO,CACVmB,EAAS,QAAQ,CACf,QAAS,+BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDP,IACAC,IAEAd,EAAiBC,CAAK,EACnB,KAAK,SAAUoB,EAAM,CACpB,GAAI,CAACA,EAAK,KAAK,OAAQ,CACrBD,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EACD,MACD,CACDZ,EAAca,EAAK,IAAI,CAC7B,CAAK,EACA,MAAM,UAAY,CACjBD,EAAS,MAAM,CACb,QAAS,gDACT,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,UAAY,CACnBL,IACAE,EAAK,MAAK,CAChB,CAAK,CACL,CAAC"}